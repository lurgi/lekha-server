# κΈ°λ¥ μ¶”κ°€ μ›ν¬ν”λ΅μ°

**μ¤‘μ”: κ° λ‹¨κ³„λ§λ‹¤ κ°λ°μμ™€ κ²€ν† ν•κ³  ν”Όλ“λ°±μ„ λ°›μ€ ν›„ λ‹¤μ λ‹¨κ³„λ΅ μ§„ν–‰ν•λ‹¤.**

---

## π― ν•µμ‹¬ μ›μΉ™

**ν• λ²μ— ν•λ‚μ κ³„μΈµλ§ κµ¬ν„ν•κ³ , λ°λ“μ‹ κ²€ν†  ν›„ λ‹¤μ λ‹¨κ³„λ΅ μ§„ν–‰ν•λ‹¤.**

---

## 1. μ”κµ¬μ‚¬ν•­ λ¶„μ„ λ‹¨κ³„

**κ°λ°μμ™€ ν•¨κ»:**
- **API μ¤ν™ μ •μ**: μ—”λ“ν¬μΈνΈ, HTTP λ©”μ„λ“, μ”μ²­/μ‘λ‹µ ν•μ‹
- **ν•„μ”ν• λ°μ΄ν„° νμ•…**: μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  μ΅°νν• μ§€
- **λΉ„μ¦λ‹μ¤ λ΅μ§ νμ•…**: μ ν¨μ„± κ²€μ¦, κ¶ν• μ²΄ν¬, μ¤‘λ³µ ν™•μΈ λ“±

**β… μ²΄ν¬ν¬μΈνΈ**: κ°λ°μμ™€ μ”κµ¬μ‚¬ν•­ ν•©μ μ™„λ£

---

## 2. μ„¤κ³„ λ‹¨κ³„

**κ°λ°μμ™€ ν•¨κ»:**
- **DB μ¤ν‚¤λ§ μ„¤κ³„**: Entity ν•„λ“, νƒ€μ…, μ μ•½μ΅°κ±΄, κ΄€κ³„ μ •μ
- **DTO μ„¤κ³„**: Request DTO (κ²€μ¦ κ·μΉ™ ν¬ν•¨), Response DTO (λ―Όκ° μ •λ³΄ μ μ™Έ)
- **μ—λ¬ μΌ€μ΄μ¤ μ •μ**: λ°μƒ κ°€λ¥ν• μ—λ¬μ™€ HTTP μƒνƒ μ½”λ“

**β… μ²΄ν¬ν¬μΈνΈ**: κ°λ°μμ™€ μ„¤κ³„ ν•©μ μ™„λ£

---

## 3. κµ¬ν„ λ‹¨κ³„ (Bottom-up, λ‹¨κ³„λ³„ κ²€ν†  ν•„μ)

### Step 1: Entity + Migration μ‘μ„±

1. **Entity κµ¬ν„**
   - `src/entities/` μ— Entity μ •μ
   - ν•„λ“, νƒ€μ…, κ΄€κ³„, μ μ•½μ΅°κ±΄ ν¬ν•¨

2. **β‹ STOP - κ²€ν†  λ‹¨κ³„**
   - κ°λ°μμ—κ² Entity μ½”λ“ λ³΄μ—¬μ£ΌκΈ°
   - ν”Όλ“λ°± λ°›κΈ° λ° μμ •

3. **Migration κµ¬ν„**
   - `migration/src/` μ— λ§μ΄κ·Έλ μ΄μ… μ‘μ„±
   - Entityμ™€ μ •ν™•ν μΌμΉν•λ” μ¤ν‚¤λ§

4. **β‹ STOP - κ²€ν†  λ‹¨κ³„**
   - κ°λ°μμ—κ² Migration μ½”λ“ λ³΄μ—¬μ£ΌκΈ°
   - ν”Όλ“λ°± λ°›κΈ° λ° μμ •

5. **κ°λ°μκ°€ μ§μ ‘ μ‹¤ν–‰**
   - `sea-orm-cli migrate up` μ‹¤ν–‰μ€ **κ°λ°μκ°€ μ§μ ‘** μν–‰
   - Claudeλ” μ‹¤ν–‰ν•μ§€ μ•μ

**β… μ²΄ν¬ν¬μΈνΈ**: Entity + Migration μ™„λ£, DB μ¤ν‚¤λ§ μƒμ„± ν™•μΈ

---

### Step 2: Repository κµ¬ν„

1. **Repository κµ¬ν„**
   - `src/repositories/` μ— Repository κµ¬ν„
   - CRUD λ©”μ„λ“ μ‘μ„± (find_*, create, update, delete)

2. **β‹ STOP - κ²€ν†  λ‹¨κ³„**
   - κ°λ°μμ—κ² Repository μ½”λ“ λ³΄μ—¬μ£ΌκΈ°
   - ν•„μ”ν• λ©”μ„λ“κ°€ λ¨λ‘ μλ”μ§€ ν™•μΈ
   - ν”Όλ“λ°± λ°›κΈ° λ° μμ •

**β… μ²΄ν¬ν¬μΈνΈ**: Repository μ™„λ£, κ°λ°μ μΉμΈ

---

### Step 3: Service κµ¬ν„

1. **Service κµ¬ν„**
   - `src/services/` μ— Service κµ¬ν„
   - Repositoryλ¥Ό μ΅°ν•©ν•μ—¬ λΉ„μ¦λ‹μ¤ λ΅μ§ μ‘μ„±
   - **ν•„μ: λ‹¨μ„ ν…μ¤νΈ μ‘μ„±**

2. **β‹ STOP - κ²€ν†  λ‹¨κ³„**
   - κ°λ°μμ—κ² Service μ½”λ“ λ³΄μ—¬μ£ΌκΈ°
   - λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ μ”κµ¬μ‚¬ν•­κ³Ό λ§λ”μ§€ ν™•μΈ
   - ν…μ¤νΈ μ½”λ“ κ²€ν† 
   - ν”Όλ“λ°± λ°›κΈ° λ° μμ •

**β… μ²΄ν¬ν¬μΈνΈ**: Service + ν…μ¤νΈ μ™„λ£, κ°λ°μ μΉμΈ

---

### Step 4: Handler κµ¬ν„

1. **Handler κµ¬ν„**
   - `src/handlers/` μ— Handler κµ¬ν„
   - DTO κ²€μ¦, Service νΈμ¶, μ‘λ‹µ λ°ν™
   - λΌμ°ν„°μ— μ—”λ“ν¬μΈνΈ λ“±λ΅

2. **β‹ STOP - κ²€ν†  λ‹¨κ³„**
   - κ°λ°μμ—κ² Handler μ½”λ“ λ³΄μ—¬μ£ΌκΈ°
   - API μ¤ν™κ³Ό λ§λ”μ§€ ν™•μΈ
   - ν”Όλ“λ°± λ°›κΈ° λ° μμ •

**β… μ²΄ν¬ν¬μΈνΈ**: Handler μ™„λ£, κ°λ°μ μΉμΈ

---

## 4. ν…μ¤νΈ λ° κ²€μ¦

**κ°λ°μμ™€ ν•¨κ»:**
- Service ν…μ¤νΈ μ‹¤ν–‰ (`cargo test`)
- API μλ™ ν…μ¤νΈ (curl, Postman λ“±)
- λ²„κ·Έ λ°κ²¬ μ‹ μ¦‰μ‹ μμ •

**β… μ²΄ν¬ν¬μΈνΈ**: λ¨λ“  ν…μ¤νΈ ν†µκ³Ό, κΈ°λ¥ μ™„μ„±

---

## β οΈ μ¤‘μ” κ·μΉ™

1. **μ λ€ μ—¬λ¬ λ‹¨κ³„λ¥Ό ν• λ²μ— κµ¬ν„ν•μ§€ μ•λ”λ‹¤**
2. **κ° λ‹¨κ³„λ§λ‹¤ λ°λ“μ‹ κ°λ°μ κ²€ν† λ¥Ό λ°›λ”λ‹¤**
3. **κ²€ν†  μ—†μ΄ λ‹¤μ λ‹¨κ³„λ΅ μ§„ν–‰ν•μ§€ μ•λ”λ‹¤**
4. **λ§μ΄κ·Έλ μ΄μ… μ‹¤ν–‰μ€ κ°λ°μκ°€ μ§μ ‘ ν•λ‹¤**
5. **κ°λ°μμ ν”Όλ“λ°±μ„ μ°μ„ μ‹ν•λ‹¤**
